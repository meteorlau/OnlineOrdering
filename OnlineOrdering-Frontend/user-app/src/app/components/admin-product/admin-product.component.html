<h2>ğŸ“¦ å•†å“ç®¡ç†</h2>

<div *ngIf="errorMessage" style="color: red;">{{ errorMessage }}</div>

<!-- ğŸ”¼ æ–°å¢å•†å“è¡¨å–® -->
<form (ngSubmit)="addProduct()" #productForm="ngForm">
  <label>å•†å“åç¨±:
    <input type="text" [(ngModel)]="newProduct.name" name="name" required />
  </label>
  <br />
  <label>å•†å“æè¿°:
    <textarea [(ngModel)]="newProduct.description" name="description"></textarea>
  </label>
  <br />
  <label>åœ–ç‰‡ç¶²å€:
    <input type="text" [(ngModel)]="newProduct.imageUrl" name="imageUrl" required />
  </label>
  <br />
  <button type="submit">â• æ–°å¢å•†å“</button>
</form>

<hr />

<table *ngIf="products.length > 0; else noData">
  <thead>
    <tr>
      <th>ID</th>
      <th>åœ–ç‰‡</th>
      <th>åç¨±</th>
      <th>æè¿°</th>
      <th>å»ºç«‹æ™‚é–“</th>
      <th>æ“ä½œ</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of products">
      <td>{{ product.id }}</td>
      <td><img [src]="product.imageUrl"
        style="width: 120px; height: 120px; object-fit: cover; border-radius: 4px; " />
      </td>
      <td>{{ product.name }}</td>
      <td>{{ product.description || '-' }}</td>
      <td>{{ product.createdAt | date: 'short' }}</td>
      <td>
        <button (click)="viewProductDetails(product.id)">è©³æƒ…</button>
      </td>      
    </tr>
  </tbody>
</table>

<ng-template #noData>
  <p>ç›®å‰æ²’æœ‰ä»»ä½•å•†å“ã€‚</p>
</ng-template>
